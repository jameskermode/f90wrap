include ../make.meson.inc

NAME     := pywrapper
MAKEFILE := $(lastword $(MAKEFILE_LIST))
WRAPFLAGS += --define PREPROCESSOR_DEFINED_INT=4 --define PREPROCESSOR_DEFINED_REAL=4
F90FLAGS += -cpp -DPREPROCESSOR_DEFINED_INT=4 -DPREPROCESSOR_DEFINED_REAL=4

LIBSRC_WRAP_FPP_FILES := main.f90

test: build1
	$(PYTHON) tests.py

build1:
	$(MAKE) -f $(MAKEFILE) build NAME=$(NAME) LIBSRC_WRAP_FPP_FILES=$(LIBSRC_WRAP_FPP_FILES) WRAPFLAGS="$(WRAPFLAGS)" F90FLAGS="$(F90FLAGS)"
